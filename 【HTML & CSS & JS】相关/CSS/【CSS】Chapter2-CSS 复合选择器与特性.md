# 站在巨人的肩膀上

> [黑马程序员pink老师前端入门教程，零基础必看的h5(html5)+css3+移动端前端视频教程](https://www.bilibili.com/video/BV14J4114768/)

> [MurphyChen's Notes](https://github.com/Hacker-C/notes)


# （二）CSS 复合选择器与特性

## 1. Emmet 语法

Emmet 语法的前身是 Zen coding，它使用缩写来提高 html/css 的编写速度，VSCode内部已经集成该语法。

### 1.1 快速生成 HTML 结构语法

1. 生成标签。直接输入标签名，按tab键即可。比如 div 然后 tab 键，就可以生成 `<div></div>`。
2. 如果想要生成多个相同标签 加上 \* 就可以了，比如 div\*3 就可以快速生成3个div。
3. 如果有父子级关系的标签，可以用 >，比如 ul > li 就可以了。
4. 如果有兄弟关系的标签，用 + 就可以了，比如 div+p。
5. 如果生成带有类名或者id名字的，直接写 .demo 或者 #two tab 键就可以了。（.demo是默认生成div标签的。p.demo才是生成p标签的）
6. 如果生成的 div 类名是有顺序的，可以用自增符号 $ 。
7. 如果想要在生成的标签内部写内容可以用 { } 表示。

### 1.2 快速生成 CSS 样式语法

CSS 基本采取简写形式即可。

1. 比如 w200 按 tab 可以生成 width: 200px;
2. 比如 lh26px 按 tab 可以生成 line-height: 26px;

### 1.3 快速格式化代码

Vscode 快速格式化代码（鼠标右键菜单列表选 Format Document 也行）: shift+alt+f

也可以设置当我们保存页面的时候自动格式化代码:
1. 菜单【文件】->【首选项】->【设置】；
2. 搜索 emmet.include;
3. 在 settings.json 下的【工作区设置】中添加以下语句：
    "editor.formatOnType": true,
    "editor.formatOnSave": true

## 2. 复合选择器

在 CSS 中，可以根据选择器的类型把选择器分为基础选择器和复合选择器，复合选择器是建立在基础选择器之上，对基本选择器进行组合形成的。
- 复合选择器可以更准确、更高效的选择目标元素（标签）。
- 复合选择器是由两个或多个基础选择器，通过不同的方式组合而成的。
- 常用的复合选择器包括：后代选择器、子选择器、并集选择器、伪类选择器等等。

### 2.1 后代选择器（重要）

后代选择器又称为包含选择器，可以选择父元素里面的子元素。其写法就是把外层标签写在前面，内层标签写在后面，中间空格分隔。当标签发生嵌套时，内层标签就成为外层标签的后代。

**语法：**
```css
元素1 元素2 { 样式声明; }

ul li { 样式声明 } /* 选择 ul 里面所有的 li 标签元素 */
```
- 上述语法表示选择元素1 里面所有的元素2（后代元素）。
- 可以连续嵌套，比如可以是孙子等
- 元素1 和 元素2 中间用空格隔开。
- 元素1 是父级，元素2 是子级，最终选择的是元素2。
- 元素2 可以是儿子，也可以直接是孙子等，只要是元素1 的后代即可。
- 元素1 和 元素2 可以是任意基础选择器。

```css
<head>
    <style>
        /* 我想要把ol里面的小li选出来改为pink */
        ol li {
            color: pink;
        }
        /* 中国 山东 济南 蓝翔 */
        ol li a {
            color: red;
        }
        
        .nav li a {
            color: yellow;
        }
    </style>
</head>
<body>
    <ol>
        <li>我是ol 的孩子</li>
        <li>我是ol 的孩子</li>
        <li>我是ol 的孩子</li>
        <li><a href="#">我是孙子</a></li>
    </ol>
    <ul>
        <li>我是ul 的孩子</li>
        <li>我是ul 的孩子</li>
        <li>我是ul 的孩子</li>
    </ul>
    <ul class="nav">
        <li>我是ul 的孩子</li>
        <li>我是ul 的孩子</li>
        <li>我是ul 的孩子</li>
        <li><a href="#">不会变化的</a></li>
    </ul>
</body>
```

### 2.2 子选择器（重要）

子元素选择器（子选择器）只能选择作为某元素的最近一级子元素。简单理解就是选亲儿子元素。

**语法：**
```css
元素1 > 元素2 { 样式声明; }

div > p { 样式声明 } /* 选择 div 里面所有最近一级 p 标签元素 */
```
- 上述语法表示选择元素1 里面的所有直接后代(子元素) 元素2。
- 元素1 和 元素2 中间用大于号隔开。
- 元素1 是父级，元素2 是子级，最终选择的是元素2。
- 元素2 必须是亲儿子，其孙子、重孙之类都不归他管. 你也可以叫它——亲儿子选择器。

### 2.3 并集选择器

并集选择器可以选择多组标签，同时为他们定义相同的样式。通常用于集体声明。

并集选择器是各选择器通过英文逗号 `,` 连接而成，任何形式的选择器都可以作为并集选择器的一部分。

**语法：**
```css
元素1, 元素2 { 样式声明; }

ul,div { 样式声明 } /* 选择 ul 和 div 标签元素 */

    div,
    p,
    .pig li {
        color: pink;
    }
```
- 上述语法表示选择元素1 和 元素2。
- 元素1 和 元素2 中间用逗号隔开。
- 逗号可以理解为和的意思。
- 并集选择器通常用于集体声明。
- 约定的语法规范，我们并集选择器喜欢竖着写。
- 一定要注意，最后一个选择器不需要加逗号。

### 2.4 伪类选择器

伪类选择器用于向某些选择器添加特殊的效果，比如给链接添加特殊效果，或选择第1个，第n个元素。

伪类选择器书写最大的特点是用冒号（:）表示，比如 :hover、:first-child。

伪类选择器很多，比如有链接伪类、结构伪类等。

#### 2.4.1 链接伪类选择器

```css
a:link      /*选择所有未被访问的链接*/
a:visited   /*选择所有已被访问的链接*/
a:hover     /*选择鼠标指针位于其上的链接*/
a:active    /*选择活动链接（鼠标按下未弹起的链接）*/
```

**链接伪类选择器注意事项：**

1. 为了确保生效，请按照 LVHA 的顺序声明：link, visited, hover, active。
2. 记忆法：love hate 或者 lv 包包 hao 。
3. 因为 a 链接在浏览器中具有默认样式，所以我们实际工作中都需要给链接单独指定样式。(即给 body 指定样式，a 链接不生效)

**链接伪类选择器实际工作开发中的写法：**
```css
/* a 是标签选择器 所有的链接 */ 
a { 
  color: gray;
}
/* :hover 是链接伪类选择器 鼠标经过 */
a:hover { 
  color: red; /* 鼠标经过的时候，由原来的 灰色 变成了红色 */
} 

<style>
    a {
        color: gray;
        text-decoration: none;
    }
    a:hover {
        color: #369;
        text-decoration: underline;
    }
</style>
```

#### 2.4.2 focus 伪类选择器

`:focus` 伪类选择器用于选取获得焦点的表单元素。

焦点就是光标，一般情况 `<input>` 类表单元素才能获取，因此这个选择器也主要针对表单元素来说。

```css
input:focus {
  background-color: yellow;
}
```

```html
<head>
    <style>
        /* 把获得光标的input表单元素选取出来 */
        input:focus {
            background-color: pink;
            color: red;
        }
    </style>
</head>
<body>
    <input type="text">
    <input type="text">
    <input type="text">
</body>
```

### 2.5 复合选择器总结

| 选择器         | 作用                   | 特征             | 使用情况 | 隔开符号及用法             |
| -------------- | ---------------------- | ---------------- | -------- | -------------------------- |
| 后代选择器     | 用来选择后代元素       | 可以是子孙后代   | 较多     | 符号是空格 `.nav a`        |
| 子代选择器     | 选择最近一级元素       | 只选亲儿子       | 较少     | 符号是大于 `.nav>p`        |
| 并集选择器     | 选择某些相同样式的元素 | 可以用于集体声明 | 较多     | 符号是逗号 `.nav,.header`  |
| 链接伪类选择器 | 选择不同状态的链接     | 跟链接相关       | 较多     | 重点记住`a{}`和`a:hover{}`实际开发的写法 |
| :focus 选择器  | 选择获得光标的表单     | 跟表单相关       | 较少     | `input:focus`记住这个写法  |

## 3. 元素显示模式

### 3.1 什么是元素显示模式

作用：网页的标签非常多，在不同地方会用到不同类型的标签，了解他们的特点可以更好的布局我们的网页。

元素显示模式就是元素（标签）以什么方式进行显示，比如`<div>`自己占一行，比如一行可以放多个`<span>`。

HTML 元素一般分为块元素和行内元素两种类型。

### 3.2 块元素

常见的块元素有 `<h1>~<h6>`、`<p>`、`<div>`、`<ul>`、`<ol>`、`<li>`等，其中 `<div>` 标签是最典型的块元素。

块级元素的特点：

1. 比较霸道，自己独占一行。
2. 高度，宽度、外边距以及内边距都可以控制。
3. 宽度默认是容器（父级宽度）的 100%。
4. 是一个容器及盒子，里面可以放行内或者块级元素。

注意：

- 文字类的元素内不能使用块级元素
- `<p>` 标签主要用于存放文字，因此 `<p>` 里面不能放块级元素，特别是不能放 `<div>`。
- 同理，`<h1>~<h6>` 等都是文字类块级标签，里面也不能放其他块级元素。

### 3.3 行内元素

常见行内元素有 `<a>`、`<strong>`、`<b>`、`<em>`、`<i>`、`<del>`、`<s>`、`<ins>`、`<u>`、`<span>` 等，其中 `<span>` 标签是最典型的行内元素。有的地方也将行内元素称为内联元素。

行内元素的特点：

1. 相邻行内元素在一行上，一行可以显示多个。
2. 高、宽直接设置是无效的。
3. 默认宽度就是它本身内容宽度。
4. 行内元素只能容纳文本或其他行内元素，不允许放块内元素。

**注意：**

- 链接里面不能再放链接。
- 行内元素有个特殊情况：链接 `<a>` 里面可以放块级元素，但是给 `<a>` 转换一下块级模式最安全。

### 3.4 行内块元素

在行内元素中有几个特殊标签——`<img>`、`<input>`、`<td>`，它们同时具有块元素和行内元素的特点。有些资料称它们为行内块元素。

行内块元素的特点：

1. 和相邻行内元素（行内块）在一行上，但是它们之间会有空白缝隙。一行可以显示多个（行内元素特点）。
2. 默认宽度就是它本身内容的宽度（行内元素特点）。
3. 高度、行高、外边距以及内边距都可以控制（块级元素特点）。

### 3.5 元素显示模式总结

| 元素模式   | 元素排列                   | 设置样式               | 默认宽度         | 包含                     |
| ---------- | -------------------------- | ---------------------- | ---------------- | ------------------------ |
| 块级元素   | 一行只能放一个块级元素     | 可以设置高度宽度       | 容器的 100%      | 容器级可以包含任何标签   |
| 行内元素   | 一行可以放多个行内元素     | 不可以直接设置宽度高度 | 它本身内容的宽度 | 容纳文本或者其他行内元素 |
| 行内块元素 | 一行可以放多个行内块元素   | 可以设置高度宽度       | 它本身内容的宽度 |                          |

学习元素显示模式的主要目的就是分清它们各自的特点，当我们网页布局的时候，在合适的地方用合适的标签元素。

### 3.6 元素模式转换

特殊情况下，我们需要元素模式的转换，简单理解：一个模式的元素需要另外一种模式的特性。

比如想要增加链接 `<a>` 的触发范围。

- 转换为块元素：display:block;
- 转换为行内元素：display:inline;
- 转换为行内块：display: inline-block;

行内元素可以转换为块元素，块元素也能转换为行内元素。

行内->块级：
```css
a {
  display: block;
}
```

块级->行内：
```css
div {
  display: inline;
}
```

行内/块级->行内块元素：
```css
span {
  display: inline-block;
}
```

### 3.7 一个小工具的使用 snipaste

Snipaste 是一个简单但强大的截图工具，也可以让你将截图贴回到屏幕上. 

常用快捷方式:

1. F1 可以截图. 同时测量大小, 设置箭头、书写文字等。
2. F3 在桌面置顶显示。
3. 点击图片, alt 可以取色 (按下shift 可以切换取色模式)。
4. 按下 esc 取消图片显示。

### 3.8 一个小技巧——单行文字垂直居中的代码

CSS 没有给我们提供文字垂直居中的代码. 这里我们可以使用一个小技巧来实现。

解决方案：让文字的行高等于盒子的高度，就可以让文字在当前盒子内垂直居中。

### 3.9 单行文字垂直居中的原理

原理：行高=文字本身高度+上空隙+下空隙=盒子高度

简单理解: 行高的上空隙和下空隙把文字挤到中间了。如果行高小于盒子高度，文字会偏上；如果行高大于盒子高度，则文字偏下。

## 4. CSS 的背景

通过 CSS 背景属性，可以给页面元素添加背景样式。

背景属性可以设置背景颜色、背景图片、背景平铺、背景图片位置、背景图像固定等。

### 4.1 背景颜色

`background-color` 属性定义了元素的背景颜色。

```css
background-color: 颜色值;
```

一般情况下元素背景颜色默认值是 transparent（透明），我们也可以手动指定背景颜色为透明色。

```css
background-color:transparent;
```

### 4.2 背景图片

`background-image` 属性描述了元素的背景图像。实际开发常见于 logo 或者一些装饰性的小图片或者是超大的背景图片，优点是非常便于控制位置。（精灵图也是一种运用场景）

```css
background-image: none|url(图片url);
```

| 参数值 | 作用                             |
| ------ | -------------------------------- |
| none   | 无背景图（默认的）               |
| url    | 使用绝对或相对地址指定背景图像   |

注意：背景图片后面的地址，千万不要忘记加 URL，同时里面的路径不要加引号。

### 4.3 背景平铺

如果需要在 HTML 页面上对背景图像进行平铺，可以使用 `background-repeat` 属性。

```css
background-repeat: repeat(默认) | no-repeat | repeat-x | repeat-y;
```

| 参数值    | 作用                                |
| --------- | ----------------------------------- |
| repeat    | 背景图像在纵向和横向上平铺（默认的）|
| no-repeat | 背景图像不平铺                      |
| repeat-x  | 背景图像在横向上平铺                |
| repeat-y  | 背景图像在纵向上平铺                |

页面元素既可以添加背景颜色也可以添加背景图片，只不过背景图片会压住背景颜色。

### 4.4 背景图片位置

利用 `background-position` 属性可以改变图片在背景中的位置。

```css
background-position: x y;
```
- 参数代表的意思是：x 坐标和 y 坐标。可以使用方位名词或者精确单位。

| 参数值   | 说明                                                        |
| -------- | ----------------------------------------------------------- |
| length   | 百分数 \| 由浮点数字和单位标识符组成的长度值                |
| position | top \| center \| bottom \| left \| center \| right 方位名词 |

1. 参数是方位名词
- 如果指定的两个值都是方位名词，则两个值前后顺序无关，比如 left top 和 top left 效果一致。
- 如果只指定了一个方位名词，另一个值省略，则第二个值默认居中对齐。

2. 参数是精确单位
- 如果参数值是精确坐标，那么第一个肯定是 x 坐标，第二个一定是 y 坐标。
- 如果只指定一个数值，那该数值一定是 x 坐标，另一个默认垂直居中。

3. 参数是混合单位
- 如果指定的两个值是精确单位和方位名词混合使用，则第一个值是 x 坐标，第二个值是 y 坐标。

### 4.5 背景图像固定（背景附着）

`background-attachment` 属性设置背景图像是否固定或者随着页面的其余部分滚动。

`background-attachment` 后期可以制作视差滚动的效果。

```css
background-attachment: scroll | fixed;
```

| 参数   | 作用                       |
| ------ | -------------------------- |
| scroll | 背景图像是随着对象内容滚动 |
| fixed  | 背景图像固定               |

### 4.6 背景属性复合写法

为了简化背景属性的代码，我们可以将这些属性合并简写在同一个属性 background 中，从而节约代码量。

当使用简写属性时，没有特定的书写顺序，一般习惯约定顺序为：

background: 背景颜色 背景图片地址 背景平铺 背景图像滚动 背景图片位置;

```css
background: transparent url(image.jpg) repeat-y fixed top;
```
- 这是实际开发中，我们更提倡的写法。

### 4.7 背景颜色半透明

CSS3 为我们提供了背景颜色半透明的效果。

```css
background: rgba(0, 0, 0, 0.3);
```
- 最后一个参数是 alpha 透明度，取值范围在 0~1 之间。（1是100%不透明）
- 我们习惯把 0.3 的 0 省略掉，写为 background: rgba(0, 0, 0, .3);。
- 注意：背景半透明是指盒子背景半透明，盒子里面的内容不受影响。
- CSS3 新增属性，是 IE9+ 版本浏览器才支持的。
- 但是现在实际开发，我们不太关注兼容性写法了，可以放心使用。

### 4.8 背景总结

| 属性                   | 作用           | 值                                                | 
| ---------------------- | -------------- | ------------------------------------------------- |
| background-color       | 背景颜色       | 预定义的颜色值/十六进制/RGB代码                   |
| background-image       | 背景图片       | url（图片路径）                                   |
| background-repeat      | 是否平铺       | repeat/no-repeat/repeat-x/repeat-y                |
| background-position    | 背景位置       | length/position，分别是x和y坐标                   |
| background-attachment  | 背景附着       | scroll（背景滚动）/ fixed（背景固定）             |
| 背景简写               | 书写更简单     | 背景颜色 背景图片地址 背景平铺 背景滚动 背景位置; |
| 背景色半透明           | 背景颜色半透明 | background: rgba(0, 0, 0, 0.3); 后面必须是 4 个值 |

## 5. CSS 的三大特性

CSS 有三个非常重要的特性：层叠性、继承性、优先级。

### 5.1 层叠性

相同选择器给设置相同的样式，此时一个样式就会覆盖（层叠）另一个冲突的样式。层叠性主要解决样式冲突的问题。

层叠性原则：
- 样式冲突：遵循的原则是就近原则，哪个样式离结构近，就执行哪个样式。
- 样式不冲突，不会层叠。

在调试工具中可以看到哪个样式被层叠掉。

### 5.2 继承性

CSS 中的继承: 子标签会继承父标签的某些样式，如文本颜色和字号。简单的理解就是：子承父业。

- 恰当地使用继承可以简化代码，降低 CSS 样式的复杂性。
- 子元素可以继承父元素的样式（text-，font-，line-这些元素开头的可以继承，以及 color 属性）。继承的主要是一些跟文字相关的样式。

#### 5.2.1 行高的继承性

```css
body {
  font: 12px/1.5 Microsoft Yahei;
}
```
- 行高可以跟单位也可以不跟单位。
- 如果子元素没有设置行高，则会继承父元素的行高为 1.5。
- 此时子元素的行高是：当前子元素的文字大小\*1.5。
- body 行高 1.5 这样写法最大优势就是里面的子元素可以根据自己文字大小自动调整行高。

### 5.3 优先级

当同一个元素指定多个选择器，就会有优先级的产生。

- 选择器相同，则执行层叠性。
- 选择器不同，则根据选择器权重执行。

选择器权重如下表所示。

| 选择器               | 选择器权重 |
| -------------------- | ---------- |
| 继承或者`*`          | `0,0,0,0`  |
| 元素选择器           | `0,0,0,1`  |
| 类选择器，伪类选择器 | `0,0,1,0`  |
| ID 选择器            | `0,1,0,0`  |
| 行内样式 `style=""`  | `1,0,0,0`  |
| `!important` 重要的  | ∞ 无穷大   |

```css
p {
  color: pink!important;
}
```

a 链接，浏览器默认指定了一个样式（蓝色，下划线）。由于继承父级样式的权重是0，因此就算父级样式的颜色指定了其他颜色，a 链接标签的颜色也不会变。

优先级注意点:
1. 权重是有4组数字组成，但是不会有进位。
2. 可以理解为类选择器永远大于元素选择器，id选择器永远大于类选择器，以此类推。
3. 等级判断从左向右，如果某一位数值相同，则判断下一位数值。
4. 可以简单记忆法: 通配符和继承权重为0，标签选择器为1，类(伪类)选择器为 10，id 选择器 100，行内样式表为 1000，!important 无穷大。
5. **继承的权重是 0**。如果该元素没有直接选中（即没有指定该元素的样式），不管父元素权重多高，子元素得到的权重都是 0，此时才会使用父类指定的样式。

权重叠加：如果是复合选择器，则会有权重叠加，需要计算权重。
- div ul li ------> 0,0,0,3
- .nav ul li ------> 0,0,1,2
- a:hover -----—> 0,0,1,1
- .nav a ------> 0,0,1,1

```html
<head>
    <style>
       /* 复合选择器会有权重叠加的问题 */
       /* 权重虽然会叠加,但是永远不会有进位 */
       /* ul li 权重  0,0,0,1 + 0,0,0,1  =  0,0,0,2     2 */
        ul li {
            color: green;
        }
        /* li 的权重是 0,0,0,1    1 */
        li {
            color: red;
        }
        /* .nav li  权重    0,0,1,0  +  0,0,0,1  =  0,0,1,1    11 */
        .nav li {
            color: pink;
        }
    </style>
</head>
<body>
    <ul class="nav">
        <li>大猪蹄子</li>
        <li>大肘子</li>
        <li>猪尾巴</li>
    </ul>
</body>
```
- 权重虽然会叠加，但是永远不会有进位。

## 6. CSS 的注释

注释用于解释代码，它们会被浏览器忽略。CSS 中的注释以“ /* ”开头，以“ */ ”结尾。

```css
/* 需要注释的内容 */
```
